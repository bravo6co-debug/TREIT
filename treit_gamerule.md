# Treit 게임 룰 및 레벨 시스템

## 💰 등급별 미션 보상

| 등급 | 레벨 범위 | 미션 CPC당 획득금액 | 플래티넘 대비 비율 |
|:-----|:----------|:-------------------|:------------------|
| 🥉 브론즈 | 1-5 | 40원 | 45% |
| 🥈 실버 | 6-10 | 52원 | 66% |
| 🥇 골드 | 11-20 | 64원 | 81% |
| 💎 다이아 | 21-35 | 72원 | 90% |
| 👑 플래티넘 | 36-50 | 80원 | 100% |

## 📈 레벨별 상세 정보

### 브론즈 등급 (Lv.1-5)
| 레벨 | 미션당 XP | 다음 레벨 필요 XP | 누적 XP | 예상 미션 수 |
|:-----|:----------|:-----------------|:--------|:------------|
| 1 | 40 | 120 | 120 | 3개 |
| 2 | 40 | 218 | 338 | 6개 |
| 3 | 40 | 339 | 677 | 9개 |
| 4 | 40 | 478 | 1,155 | 12개 |
| 5 | 40 | 631 | 1,786 | 16개 |

### 실버 등급 (Lv.6-10)
| 레벨 | 미션당 XP | 다음 레벨 필요 XP | 누적 XP | 예상 미션 수 |
|:-----|:----------|:-----------------|:--------|:------------|
| 6 | 52 | 797 | 2,583 | 16개 |
| 7 | 52 | 975 | 3,558 | 19개 |
| 8 | 52 | 1,163 | 4,721 | 23개 |
| 9 | 52 | 1,360 | 6,081 | 27개 |
| 10 | 52 | 1,567 | 7,648 | 31개 |

### 골드 등급 (Lv.11-20)
| 레벨 | 미션당 XP | 다음 레벨 필요 XP | 누적 XP | 예상 미션 수 |
|:-----|:----------|:-----------------|:--------|:------------|
| 11 | 64 | 1,782 | 9,430 | 28개 |
| 12 | 64 | 2,005 | 11,435 | 32개 |
| 13 | 64 | 2,236 | 13,671 | 35개 |
| 14 | 64 | 2,474 | 16,145 | 39개 |
| 15 | 64 | 2,719 | 18,864 | 43개 |
| 16 | 64 | 2,970 | 21,834 | 47개 |
| 17 | 64 | 3,228 | 25,062 | 51개 |
| 18 | 64 | 3,492 | 28,554 | 55개 |
| 19 | 64 | 3,762 | 32,316 | 59개 |
| 20 | 64 | 4,038 | 36,354 | 64개 |

### 다이아 등급 (Lv.21-35)
| 레벨 | 미션당 XP | 다음 레벨 필요 XP | 누적 XP | 예상 미션 수 |
|:-----|:----------|:-----------------|:--------|:------------|
| 21 | 72 | 4,319 | 40,673 | 60개 |
| 22 | 72 | 4,605 | 45,278 | 64개 |
| 23 | 72 | 4,896 | 50,174 | 68개 |
| 24 | 72 | 5,192 | 55,366 | 73개 |
| 25 | 72 | 5,492 | 60,858 | 77개 |
| 26 | 72 | 5,796 | 66,654 | 81개 |
| 27 | 72 | 6,105 | 72,759 | 85개 |
| 28 | 72 | 6,417 | 79,176 | 90개 |
| 29 | 72 | 6,734 | 85,910 | 94개 |
| 30 | 72 | 7,053 | 92,963 | 98개 |
| 31 | 72 | 7,377 | 100,340 | 103개 |
| 32 | 72 | 7,703 | 108,043 | 107개 |
| 33 | 72 | 8,033 | 116,076 | 112개 |
| 34 | 72 | 8,366 | 124,442 | 117개 |
| 35 | 72 | 8,702 | 133,144 | 121개 |

### 플래티넘 등급 (Lv.36-50)
| 레벨 | 미션당 XP | 다음 레벨 필요 XP | 누적 XP | 예상 미션 수 |
|:-----|:----------|:-----------------|:--------|:------------|
| 36 | 80 | 9,040 | 142,184 | 113개 |
| 37 | 80 | 9,382 | 151,566 | 118개 |
| 38 | 80 | 9,726 | 161,292 | 122개 |
| 39 | 80 | 10,073 | 171,365 | 126개 |
| 40 | 80 | 10,423 | 181,788 | 131개 |
| 41 | 80 | 10,775 | 192,563 | 135개 |
| 42 | 80 | 11,130 | 203,693 | 140개 |
| 43 | 80 | 11,487 | 215,180 | 144개 |
| 44 | 80 | 11,847 | 227,027 | 149개 |
| 45 | 80 | 12,209 | 239,236 | 153개 |
| 46 | 80 | 12,573 | 251,809 | 158개 |
| 47 | 80 | 12,939 | 264,748 | 162개 |
| 48 | 80 | 13,308 | 278,056 | 167개 |
| 49 | 80 | 14,005 | 294,061 | 176개 |
| 50 | 80 | - | 294,061 | 최고 레벨 |

## 📊 경험치 획득 방법

### 1. **기본 미션 수행**
- 각 미션 수행 후 받는 마일리지만큼 XP 획득
- 브론즈: 40 XP, 실버: 52 XP, 골드: 64 XP, 다이아: 72 XP, 플래티넘: 80 XP

### 2. **데일리 미션** (LevelUpScreen 내 구현)
| 미션 | 설명 | 보상 XP |
|:-----|:-----|:--------|
| SNS 포스팅 | 지정된 해시태그와 함께 3회 포스팅 | 80 XP |
| 링크 클릭 달성 | 내가 올린 링크에 클릭 10회 받기 | 120 XP |
| 프로젝트 신청 | 새로운 프로젝트 1개 신청하기 | 60 XP |
| 수익 달성 | 오늘 CPC 수익 5,000원 달성하기 | 100 XP |

### 3. **XP 부스터 미니게임** (LevelUpScreen 내 구현)
| 게임 | 설명 | 보상 XP | 쿨다운 |
|:-----|:-----|:--------|:-------|
| 마케팅 퀴즈 | SNS 마케팅 상식 맞추기 | 50 XP | 5분 |
| 해시태그 매치 | 적절한 해시태그 조합 찾기 | 40 XP | 5분 |
| 트렌드 예측 | 인기 키워드 맞추기 게임 | 60 XP | 5분 |
| 브랜딩 챌린지 | 브랜드 슬로건 만들기 | 80 XP | 5분 |

### 4. **업적 달성** (LevelUpScreen 내 구현)
| 업적 | 조건 | 보상 XP |
|:-----|:-----|:--------|
| 첫 프로젝트 완료 | 첫 번째 프로젝트를 성공적으로 완료 | 100 XP |
| 연속 5일 활동 | 5일 연속으로 활동 | 200 XP |
| 수익 10만원 달성 | 누적 수익 10만원 달성 | 300 XP |
| 프로젝트 마스터 | 프로젝트 10개 완료 | 250 XP |
| 인플루언서 등급 | 프로젝트 20개 완료 | 500 XP |

### 5. **일일 출석 보너스** (HomeScreen 팝업으로 구현)
| 보너스 유형 | 조건 | 보상 XP |
|:-----------|:-----|:--------|
| 일일 출석 | 매일 첫 접속 시 | 30 XP |
| 7일 연속 | 7일 연속 출석 | +100 XP |
| 30일 연속 | 30일 연속 출석 | +500 XP |

### 6. **친구 초대 보너스** (SettingsScreen에 구현)
| 보너스 유형 | 조건 | 보상 XP |
|:-----------|:-----|:--------|
| 친구 가입 | 초대한 친구 1명 가입 | 200 XP |
| 첫 미션 완료 | 초대받은 친구가 첫 미션 완료 | +100 XP |
| 월간 한도 | 월 최대 5명까지 보너스 지급 | 최대 1,500 XP |

## 💎 특별 보상

### 등급 승급 보너스
- 🥈 **실버 달성**: +1,000원
- 🥇 **골드 달성**: +3,000원
- 💎 **다이아 달성**: +8,000원
- 👑 **플래티넘 달성**: +20,000원

### 레벨업 보너스
- **모든 레벨업 시**: +100원 기본 보상

## 🎮 시스템 구현 사양

### 데이터베이스 구조
```sql
-- users 테이블 수정사항
ALTER TABLE users ADD COLUMN 
  grade user_grade DEFAULT 'BRONZE',
  current_xp INTEGER DEFAULT 0,
  next_level_xp INTEGER DEFAULT 120,
  total_xp INTEGER DEFAULT 0;

-- 레벨 설정 테이블
CREATE TABLE level_configs (
  level INTEGER PRIMARY KEY,
  grade user_grade NOT NULL,
  required_xp INTEGER NOT NULL,
  cumulative_xp INTEGER NOT NULL,
  xp_per_mission INTEGER NOT NULL,
  cpc_rate INTEGER NOT NULL
);

-- 보상 히스토리
CREATE TABLE reward_history (
  id UUID PRIMARY KEY,
  user_id UUID REFERENCES users(id),
  type reward_type NOT NULL,
  amount INTEGER NOT NULL,
  xp_gained INTEGER,
  description TEXT,
  created_at TIMESTAMPTZ DEFAULT NOW()
);

-- 일일 보너스 체크
CREATE TABLE daily_bonus_claims (
  user_id UUID REFERENCES users(id),
  claim_date DATE NOT NULL,
  streak_count INTEGER DEFAULT 1,
  PRIMARY KEY (user_id, claim_date)
);
```

### UI 구현 위치
| 기능 | 구현 위치 | 구현 방식 |
|:-----|:---------|:----------|
| 레벨/XP 표시 | HomeScreen | 상단 사용자 카드에 표시 |
| 데일리 미션 | LevelUpScreen | 기존 UI 활용 |
| XP 부스터 게임 | LevelUpScreen | 기존 미니게임 UI 활용 |
| 업적 | LevelUpScreen | 기존 업적 섹션 활용 |
| 일일 출석 보너스 | HomeScreen | 첫 접속 시 팝업 모달 |
| 친구 초대 | SettingsScreen | 새로운 섹션 추가 |
| 레벨업 알림 | 전역 | Toast + 애니메이션 모달 |
| 등급 변경 축하 | 전역 | 전체화면 축하 모달 |

### 보상 지급 로직
1. **실시간 XP 업데이트**: 모든 XP는 즉시 반영
2. **레벨업 체크**: XP 획득 시마다 레벨업 체크
3. **트랜잭션 처리**: 모든 보상은 DB 트랜잭션으로 원자성 보장
4. **중복 방지**: 일일 보너스, 업적 등은 중복 지급 방지
5. **실시간 알림**: Supabase Realtime으로 즉시 알림

## 📊 밸런싱 지표

### 예상 성장 곡선
| 목표 | 예상 기간 | 일일 미션 수 |
|:-----|:---------|:------------|
| 레벨 5 (브론즈 최고) | 1주 | 5-6개 |
| 레벨 10 (실버 최고) | 2-3주 | 5-6개 |
| 레벨 20 (골드 최고) | 2개월 | 5-6개 |
| 레벨 35 (다이아 최고) | 6개월 | 5-6개 |
| 레벨 50 (플래티넘 최고) | 1년 | 5-6개 |

### 등급별 일일 평균 수익 예상
| 등급 | 일일 미션 | 일일 수익 | 월 수익 |
|:-----|:---------|:---------|:--------|
| 브론즈 | 5개 | 200원 | 6,000원 |
| 실버 | 5개 | 260원 | 7,800원 |
| 골드 | 5개 | 320원 | 9,600원 |
| 다이아 | 5개 | 360원 | 10,800원 |
| 플래티넘 | 5개 | 400원 | 12,000원 |

### KPI 목표
- **일일 활성 사용자 미션 참여율**: 60% 이상
- **7일 리텐션**: 50% 이상
- **30일 리텐션**: 30% 이상
- **평균 레벨**: 15 (골드 중반)
- **레벨 50 도달률**: 전체 사용자의 1%

## 🔄 업데이트 이력
- 2024.12.28: 초기 문서 작성
- 2024.12.28: XP 획득 방법 상세화 및 시스템 구현 사양 추가